<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CinnaPC</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <audio id="background-audio" src="audio.mp3" autoplay loop></audio>
    
    <!-- Pantalla de inicio de sesiÃ³n -->
    <div id="login-screen">
        <div class="login-container">
            <div class="login-header">
                <h1>âœ¨ CinnaPC âœ¨</h1>
            </div>
            
            <div class="profile-section">
                <div class="profile-picture">
                    <img src="cinna-profile.png" alt="Profile Picture" class="profile-img">
                </div>
                <h2>AnaGDCP231</h2>
                <p class="welcome-text">Â¡Bienvenida de vuelta! ğŸ’•</p>
            </div>
            
            <div class="login-form">
                <button onclick="login()" class="login-button">
                    <span>ENTRAR</span>
                    <div class="button-decoration">â†’</div>
                </button>
            </div>
            
            <div class="login-footer">
                <div class="kawaii-elements">
                    <span class="floating-heart">ğŸ’–</span>
                    <span class="floating-star">â­</span>
                    <span class="floating-cloud">â˜ï¸</span>
                </div>
            </div>
        </div>
    </div>
    
    <div id="retro-bar" style="display: none;">
        <span id="app-name">CinnaPC</span>
        <div class="right-section">
            <button id="fullscreen-button" onclick="toggleFullscreen()"></button>
            <span id="time"></span>
            <span id="date"></span>
        </div>
    </div>

    <div id="desktop" style="display: none;">
        <div class="app-icon" data-app="trash">
            <img src="trash-bin.png" alt="Trash Bin Icon" class="icon">
            <span class="icon-label">Papelera</span>
        </div>
        <div class="app-icon" data-app="nubemail">
            <img src="mail.png" alt="NubeMail Icon" class="icon">
            <span class="icon-label">NubeMail</span>
        </div>        <div class="app-icon" data-app="musicroll">
            <img src="music.png" alt="MusicRoll Icon" class="icon">
            <span class="icon-label">MusicRoll</span>
        </div>        <div class="app-icon" data-app="lovenote">
            <img src="notepad.png" alt="LoveNote Icon" class="icon">
            <span class="icon-label">LoveLetter</span>
        </div>        <div class="app-icon" data-app="weather">
            <img src="rainbow.png" alt="Weather Icon" class="icon">
            <span class="icon-label">CupidWeather</span>
        </div>
        <div class="app-icon" data-app="sweettime">
            <img src="clock.png" alt="Clock Icon" class="icon">
            <span class="icon-label">SweetTime</span>
        </div>
    </div>

    <div id="email-selection-container" style="display: none;">
        <div id="window-bar">
            <button class="close-button" onclick="closeNubeMail()">Ã—</button>
            <div class="bars">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="window-title">NubeMail</div>
        </div>
        <div class="email-list">
            <h1>Bandeja de entrada</h1>
            <div class="email-item" onclick="openExistingEmail()">
                <div class="email-sender">De: Emergencias112</div>
                <div class="email-subject">Â¡Tienes 1 nuevo correo!</div>
                <div class="email-preview">...Cinnamoroll estaba disfrutando de un tranquilo dÃ­a volando entre nubes...</div>
            </div>
            <div class="email-item new-adventure" onclick="openNewAdventure()">
                <div class="email-sender">De: Hello Kitty</div>
                <div class="email-subject">Â¡Una nueva aventura nos espera!</div>
                <div class="email-preview">Una misteriosa aventura te aguarda...</div>
            </div>
        </div>
    </div>

    <div id="game-container" style="display: none;">
        <div id="window-bar">            <button class="close-button" onclick="backToEmailSelection()">Ã—</button>
            <div class="bars">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="window-title">NubeMail</div>
        </div>
        <header>
            <h1>Â¡Tienes 1 nuevo correo!</h1>
        </header>
        <main>
            <section style="margin-left: 3%; margin-right: 3%; line-height: 1.5;" id="step-1" class="step active">
                <h2>PuÃ±eta...</h2>
                <p style="text-align: justify;">...Cinnamoroll estaba disfrutando de un tranquilo dÃ­a volando entre nubes de algodÃ³n cuando recibiÃ³ una misiÃ³n urgente: "Hay alguien muy especial esperando una gran <b>pregunta</b>, Â¡pero solo un corazÃ³n valiente puede desbloquearla!".<br><br>Con sus orejitas extendidas como alas y su espÃ­ritu aventurero, Cinnamoroll deberÃ¡ completar un desafÃ­o para reunir los fragmentos del mensaje secreto. Solo asÃ­ podrÃ¡ revelarlo...</p>
                <button onclick="nextStep(1)">Empezar</button>
            </section>
            <section id="step-2" class="step">
                <h2>SweetMatch</h2>
                <p>Â¡Ayuda a Cinnamoroll a encontrar todas las parejitas para descifrar el mensaje!</p>
                <button onclick="nextStep(2)">Siguiente</button>
            </section>
            <section id="step-3" class="step">
                <h2>Â¡Se ha desvelado la pregunta!</h2>
                <p>Ana GDCP, Â¿quieres salir conmigo?</p>
                <button onclick="showFinalMessage()">SÃ­</button>
                <button>No</button>
            </section>
        </main>
        <footer id="footer" style="display: none;">
            <p>Hecho con â¤ï¸ por Emergencias112</p>
        </footer>
    </div>

    <div id="new-adventure-container" style="display: none;">
        <div id="window-bar">
            <button class="close-button" onclick="backToEmailSelection()">Ã—</button>
            <div class="bars">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="window-title">NubeMail</div>
        </div>
        <header>
            <h1>Â¡Una nueva aventura nos espera!</h1>
        </header>
        <main>
            <section style="margin-left: 3%; margin-right: 3%; line-height: 1.5;" id="adventure-step-1" class="adventure-step active">
                <h2>Â¡Hora de la aventura!</h2>
                <p style="text-align: justify;">Cinnamoroll ha recibido una carta urgente de Hello Kitty: "Â¡Necesito tu ayuda! My Melody, Kuromi, Pompompurin y yo hemos decidido hacer el viaje mÃ¡s increÃ­ble de nuestras vidas hacia <b>Granada</b>, pero el camino estÃ¡ lleno de desafÃ­os que solo podemos superar trabajando juntas".<br><br>Con su cola esponjosa ondeando al viento y sus ojos brillantes de emociÃ³n, Cinnamoroll se monta en su aviÃ³n y se prepara para la gran aventura. Pero no serÃ¡ fÃ¡cil: tendrÃ¡ que esquivar los obstÃ¡culos que Renfe le ha colocado por el camino. Â¿PodrÃ¡ llegar a su destino?</p>
                <button onclick="startNewAdventure()">Â¡Empezar la aventura!</button>
            </section>
            <section id="adventure-step-2" class="adventure-step">
                <h2>Â¡Vuela con Cinnamoroll!</h2>
                <p>Ayuda a Cinnamoroll a volar entre las tuberÃ­as sin chocar. Â¡Presiona espacio para volar!</p>
                <div id="flappy-game-container">
                    <canvas id="flappyCanvas" width="600" height="400"></canvas>
                    <div id="game-instructions">
                        <p>ğŸ® Presiona ESPACIO para volar</p>
                        <p>â±ï¸ Tienes que sobrevivir para continuar</p>
                    </div>
                    <button id="start-flappy-btn" onclick="startFlappyGame()">Â¡Comenzar vuelo!</button>
                    <button id="next-adventure-btn" style="display: none;" onclick="completeAdventure()">Â¡MisiÃ³n completada!</button>
                </div>
            </section>
            <section id="adventure-step-3" class="adventure-step">
                <h2>Â¡Aventura completada!</h2>
                <p style="line-height: 1.6;">Â¡IncreÃ­ble! Cinnamoroll ha logrado volar exitosamente entre las nubes y ha llegado a Granada.</p>
                <div style="display: flex; flex-direction: row; align-items: center; justify-content: center; gap: 30px; margin: 30px 0;">
                    <img src="travel.png" alt="Travel" style="width: 150px; height: 150px; image-rendering: pixelated;">
                    <img src="renfe-pixel.png" alt="Renfe" style="width: 180px; height: 150px; image-rendering: pixelated;">
                </div>
                <p style="line-height: 1.6;">La gran aventura continÃºa este sÃ¡bado... Â¡PrepÃ¡rate para el viaje mÃ¡s emocionante!</p>
                <button onclick="backToEmailSelection()">Volver a la bandeja</button>
            </section>
        </main>
    </div>

    <div id="music-container" style="display: none;">
        <div id="window-bar">            <button class="close-button" onclick="closeMusicRoll()">Ã—</button>
            <div class="bars">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="window-title">MusicRoll</div>
        </div>
        <div class="music-player">
            <img src="nota-musica.gif" alt="Music Icon" class="music-icon">
            <div class="music-info">
                <div class="song-title">Reproduciendo:<br><br><b>stream cafe - boba date</b></div>
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
                <div class="time-info">
                    <span id="current-time">00:00</span>
                    <span id="total-time">00:00</span>
                </div>
                <button id="play-pause-btn" onclick="togglePlay()">â¸</button>
            </div>        </div>
    </div>    <div id="weather-container" style="display: none;">
        <div id="window-bar">
            <button class="close-button" onclick="closeWeather()">Ã—</button>
            <div class="bars">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="window-title">CupidWeather</div>
        </div>
        <div class="weather-content">
            <div class="weather-card today">
                <h2>Hoy</h2>
                <img src="kiss.png" alt="Today's Weather" class="weather-icon">
                <div class="forecast">DÃ­a de besitos</div>
                <div class="weather-details">Probabilidad de mimos: 100%</div>
            </div>
            <div class="weather-card tomorrow">
                <h2>MaÃ±ana</h2>
                <img src="sleep.png" alt="Tomorrow's Weather" class="weather-icon">
                <div class="forecast">DÃ­a de sueÃ±ecito</div>
                <div class="weather-details">XucuxÃº esperado: MÃ¡ximo</div>
            </div>
        </div>
    </div>    <div id="sweettime-container" style="display: none;">
        <div id="window-bar">
            <button class="close-button" onclick="closeSweetTime()">Ã—</button>
            <div class="bars">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="window-title">SweetTime</div>
        </div>
        <div class="time-content">
            <img src="sandclock.gif" alt="Sand Clock" class="sand-clock">
            <div class="digital-time"></div>
            <div class="sweet-message"></div>
        </div>
    </div>

    <div id="lovenote-container" style="display: none;">
        <div id="window-bar">
            <button class="close-button" onclick="closeLoveNote()">Ã—</button>
            <div class="bars">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="window-title">LoveLetter</div>
        </div>
        <div class="note-content">
            <textarea id="note-text" placeholder="Escribe aquÃ­ tus pensamientos..."></textarea>
        </div>
    </div>

    <script src="window-manager.js"></script>
    <script src="script.js"></script>
    <script src="game.js"></script>
    <script src="flappy-game.js"></script>
</body>
</html>
